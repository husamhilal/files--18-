{% extends "base.html" %}
{% block title %}Analysis Results{% endblock %}
{% block content %}
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0"><i class="fas fa-file-alt me-2"></i>Analysis Results - {{ filename }}</h5>
        <a href="{{ url_for('index') }}" class="btn btn-sm btn-secondary"><i class="fas fa-arrow-left me-1"></i>Back</a>
    </div>
    <div class="card-body">
        {% if summary %}
        <div class="alert alert-info"><strong>Summary:</strong> {{ summary|safe }}</div>
        {% endif %}
        <div class="row">
            <div class="col-md-6">
                <h6>Banking Info</h6>
                <ul>
                    <li><strong>Account Numbers:</strong> {{ results.banking_info.account_numbers }}</li>
                    <li><strong>Amounts:</strong> {{ results.banking_info.amounts }}</li>
                    <li><strong>Dates:</strong> {{ results.banking_info.dates }}</li>
                    <li><strong>Names:</strong> {{ results.banking_info.names }}</li>
                    <li><strong>Addresses:</strong> {{ results.banking_info.addresses }}</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6>Confidence</h6>
                <p>Average: {{ (results.confidence_scores.average * 100) | round(1) }}%</p>
                <h6 class="mt-3">Tables</h6>
                <pre class="small bg-light p-2 rounded">{{ results.tables | tojson(indent=2) }}</pre>
            </div>
        </div>
        <h6 class="mt-3">Key-Value Pairs (sample)</h6>
        <pre class="small bg-light p-2 rounded">{{ results.key_value_pairs[:15] | tojson(indent=2) }}</pre>
    </div>
</div>
{% endblock %}